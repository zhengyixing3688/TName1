(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a8ecb9e"],{"0e6d":function(t,o,i){"use strict";i.r(o);var a=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"booklist"},[t.showLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:i("4045")}})]):t._e(),a("van-nav-bar",{attrs:{title:t.m,"left-text":"返回","left-arrow":""},on:{"click-left":t.back},scopedSlots:t._u([{key:"right",fn:function(){return[a("svg",{staticClass:"icon",attrs:{t:"1594949373600",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15150",width:"24",height:"24"},on:{click:t.goMBooks}},[a("path",{attrs:{d:"M264.154 952.655H64.31V224.11h199.844v728.545h-0.001z m-34.2-691.413H98.816v67.142h131.14v-67.142z m96.516-196.7h198.267v888.045H326.47V64.542z m168.989 34.214H360.143v69.235h135.315V98.756z m459.399 794.012L764.845 954.68 539.126 261.973l190.01-61.912 225.722 692.707zM708.125 245.964L583.438 286.59l20.798 63.834 124.686-40.627-20.797-63.833z m0 0","p-id":"15151",fill:"#fff"}})])]},proxy:!0}])}),a("div",{staticClass:"books-list"},[a("van-list",{staticClass:"popup-list",attrs:{finished:t.load.finished,"finished-text":t.load.loadingMsg,offset:50},on:{load:t.onLoad},model:{value:t.load.loading,callback:function(o){t.$set(t.load,"loading",o)},expression:"load.loading"}},t._l(t.BooksArr,(function(o,i){return a("div",{key:i,staticClass:"books-item clearfix",on:{click:function(i){return t.clickSkip(o._id)}}},[a("div",{staticClass:"img-l fl"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgKey(o.cover),expression:"imgKey(item.cover)"}]})]),a("div",{staticClass:"books-r fl"},[a("h3",[t._v(t._s(o.title))]),a("div",{staticClass:"bos"},[a("span",[t._v(t._s(o.author))]),a("span",[t._v("|")]),a("span",[t._v(t._s(o.majorCate))])]),a("p",[t._v(t._s(o.shortIntro))]),a("div",{staticClass:"rq"},[a("span",{staticClass:"s1"},[t._v(" "+t._s(t.playCountParse(o.latelyFollower))+" "),a("span",[t._v("人气")])]),a("span",{staticClass:"s"},[t._v("|")]),a("span",{staticClass:"s1"},[t._v(" "+t._s(o.retentionRatio)+" "),a("span",[t._v("读者留存")])])])])])})),0)],1)],1)},e=[],n=(i("fb6a"),i("a434"),i("b680"),i("2909")),s={data:function(){return{g:this.$route.query.gender,m:this.$route.query.major,BooksArr:[],BooksArrData:[],showLoading:!1,loadCount:10,load:{loading:!0,finished:!1,loadingMsg:"数据加载完毕..."}}},methods:{InfoData:function(){var t=this;this.showLoading=!0,this.axios.get("http://novel.kele8.cn/category-info?gender="+this.g+"&type=hot&major="+this.m+"&minor=&start=0&limit=200").then((function(o){t.showLoading=!1,200==o.status&&(t.BooksArrData=o.data.books,t.BooksArr=t.BooksArrData.splice(0,t.loadCount),t.BooksArrData.length>0?t.load.loading=!1:(t.load.loading=!0,t.load.finished=!0),window.localStorage.setItem("BooksArr",JSON.stringify({expire:Date.now()+36e5,result:o.data.books})))})).catch((function(o){t.showLoading=!1}))},onLoad:function(){var t=this;setTimeout((function(){var o;(o=t.BooksArr).push.apply(o,Object(n["a"])(t.BooksArrData.splice(0,t.loadCount))),t.load.loading=!1,0==t.BooksArrData.length&&(t.load.loading=!0,t.load.finished=!0)}),1e3)},imgKey:function(t){return unescape(t).slice(7)},playCountParse:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>5e3?(t/1e4).toFixed(1)+"万":void 0},clickSkip:function(t){this.$router.push({name:"Detail",query:{id:t}})},goMBooks:function(){this.$router.push({name:"MyBooks"})},back:function(){this.$router.push({name:"Home"})}},created:function(){this.InfoData();var t=JSON.parse(window.localStorage.getItem("BooksArr"));t&&t.expire>Date.now()?this.BooksArr=t.result:this.InfoData()}},r=s,l=(i("16a7"),i("2877")),c=Object(l["a"])(r,a,e,!1,null,"e4d2d53c",null);o["default"]=c.exports},1148:function(t,o,i){"use strict";var a=i("a691"),e=i("1d80");t.exports="".repeat||function(t){var o=String(e(this)),i="",n=a(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(o+=o))1&n&&(i+=o);return i}},"16a7":function(t,o,i){"use strict";var a=i("da23"),e=i.n(a);e.a},"408a":function(t,o,i){var a=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},b680:function(t,o,i){"use strict";var a=i("23e7"),e=i("a691"),n=i("408a"),s=i("1148"),r=i("d039"),l=1..toFixed,c=Math.floor,d=function(t,o,i){return 0===o?i:o%2===1?d(t,o-1,i*t):d(t*t,o/2,i)},u=function(t){var o=0,i=t;while(i>=4096)o+=12,i/=4096;while(i>=2)o+=1,i/=2;return o},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){l.call({})}));a({target:"Number",proto:!0,forced:f},{toFixed:function(t){var o,i,a,r,l=n(this),f=e(t),h=[0,0,0,0,0,0],v="",g="0",p=function(t,o){var i=-1,a=o;while(++i<6)a+=t*h[i],h[i]=a%1e7,a=c(a/1e7)},k=function(t){var o=6,i=0;while(--o>=0)i+=h[o],h[o]=c(i/t),i=i%t*1e7},m=function(){var t=6,o="";while(--t>=0)if(""!==o||0===t||0!==h[t]){var i=String(h[t]);o=""===o?i:o+s.call("0",7-i.length)+i}return o};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(o=u(l*d(2,69,1))-69,i=o<0?l*d(2,-o,1):l/d(2,o,1),i*=4503599627370496,o=52-o,o>0){p(0,i),a=f;while(a>=7)p(1e7,0),a-=7;p(d(10,a,1),0),a=o-1;while(a>=23)k(1<<23),a-=23;k(1<<a),p(1,1),k(2),g=m()}else p(0,i),p(1<<-o,0),g=m()+s.call("0",f);return f>0?(r=g.length,g=v+(r<=f?"0."+s.call("0",f-r)+g:g.slice(0,r-f)+"."+g.slice(r-f))):g=v+g,g}})},da23:function(t,o,i){}}]);
//# sourceMappingURL=chunk-9a8ecb9e.283c0b12.js.map